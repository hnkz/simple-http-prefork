import socket

MSGLEN = 1024

msg = "GET ws://192.168.33.34:22222/ HTTP/1.1\r\n" \
            "Host: 192.168.33.34:22222\r\n" \
            "Connection: Upgrade\r\n" \
            "Upgrade: websocket\r\n" \
            "Origin: http://192.168.33.34:12345\r\n" \
            "Sec-WebSocket-Version: 13\r\n" \
            "Sec-WebSocket-Key: xfmqK9APflApZHzsc2OjKQ==\r\n" \
            "Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\r\n\r\n"
host = "192.168.33.34"
port = 12345
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

sock.connect((host, port))
sock.send(msg.encode())
recv = sock.recv(1024)
print(recv.decode())